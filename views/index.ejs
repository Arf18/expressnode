<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;1,400&display=swap" rel="stylesheet">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200&family=Open+Sans:ital,wght@0,300;0,400;1,400&display=swap" rel="stylesheet">

</head>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<style>


html{overflow-x: hidden;}
body{
scroll-behavior: smooth;
margin: 0;
padding:0;
font-family: 'Open Sans', sans-serif;
background-color: #302B31;
overflow-x: none;
}


header{
    display: flex;
    position: relative;
    width:100%;
    right:calc((100% - 350px)/10);
    background-color: red;
    margin-top: 30px;

}
header input{
    margin-top:20px;
    display: inline-block;
   


}



a{
    text-decoration: none;
    outline:none;
    font-weight: bolder;
}


h2{
text-align: start;
color:black;
position: relative;
margin-bottom: 5px;
margin-top: 10px;

}
h3{
font-weight: bold;
color:white;
position: relative;
top:30px;
left:calc((33%)/4);
width:50%;

}
.page{
    position: relative;
    margin-top: 30px;
    height:50%;
    top:100px;
    width:100%;

}
.page .article{
    position: relative;;
    background-color: white;
    width:40%;
    height:16rem;
    left:calc((100% - 40%)/8);
    float:left;
    margin: 10px;
    margin-top: 20px;
    margin-bottom: 20px;
    padding-left:20px;
    box-shadow: 0 0 6px 5px #272727;
    border-radius: 9px;
    word-wrap: break-word;
    max-height: 400px;
    overflow: hidden;

}
@media(max-width:480px){
    header{
        width: 100%;
    }
    
    .search{
        position: relative;
        margin-right:50px;
        margin-left:0;
        background-color: white;
        width:0px;
    }
    #btn{
        width: 80px;
        margin-right:30px;
    }

    body{
        display: block;
        position: relative;

    }
    h3{
        margin-top: 80px;
        width: 328px;
    }
    .page{
        margin-left:0;
        width:100%;
        height:100%;
        position: relative;
        display: inline-flex;
        flex-direction: column;
    }
    .page .article{
        width:79%;
        height:300px;
        right:100px;
        display: block;
        left:calc((100% - 79%)/4);
    ;
    }
    
    .article .tages{
        position: absolute;
        bottom:68px;
        left:20px;
    }
}
.article .date{
    text-align: start;
    color:#272727;
    margin-top: 10px;
    
}
.article .text{
    text-align: start;
    color:#000000;
    overflow: hidden;
    white-space: normal;
    -webkit-box-orient: vertical;
    -webkit-line-clamp:1; 
    margin-right:30px;
    text-overflow: -o-ellipsis-lastline;
    word-wrap: break-word;
        white-space: inherit;
        -webkit-line-clamp: 2; 
        -webkit-box-orient: vertical;
        text-overflow: ellipsis;   
    max-height: 69px;
    margin-top: 20px;;

}

#viwe{
    position: absolute;
    background-color: rgb(243, 74, 74);
    color:white;
    font-size: 16px;
    padding:5px;
    right:0;
    

}
.article .options{
    display: inline-flex  ;
    position: absolute;
    bottom:20px;
    width:calc((100% - 40px));
}
#edit,#delet ,#viwe{
    margin-left:20px;
    border-radius: 5px;
    text-align: center;
    width:60px;
    text-decoration: none;
}
#readmore{
    background-color: #8CC152;
    color:#222222;
    padding:5px;
    border-radius: 5px;
    padding-left: 10px;
    padding-right:10px;
    text-decoration: none;
    
}
#readmore:hover{
    box-shadow: 0 0 10px #8CC152;
}
#edit{
    background-color: #5D9CEC;
    color:#222222;
    padding:5px;

}
#edit:hover{
    box-shadow: 0 0 10px #5D9CEC ;
}
#delet{
    background-color: #FC6E51;
    color:#222222;
    padding:5px;
}
#delet:hover{
    box-shadow: 0 0 10px #FC6E51;
}
.page .new{
    color:white;
    list-style: none;
    font-size: 20px;;
    background-color:#f34a4a;
    box-shadow: 0 0 3px 1px rgb(68, 68, 68);
    padding:10px;
    position: absolute;
    left:calc((33%)/4);
    top:-60px;
    border-radius: 5px;
    text-decoration: none;
    padding-left: 20px;
    padding-right: 20px;
}
.page .new:focus{
    background-color: #fc6e51;
}
.page .new:hover{
    box-shadow: 0 0 10px #f34a4a;
}
.search{
    position: absolute;
    width:300px;
    height:36px;
    border:3px solid #f34a4a;
    border-right: none;
    border-radius: 5px 0 0 5px;
    outline: none;
    padding: 5px;
    float:right;
    color:#272727;
    right: 60px;
    font-size: 15px;
    margin-top: 30px;;

    
}

.search:focus{
    box-shadow: 0 0 10px #FC6E51;
}

#btn{
  height:36px;
  border:1px solid #f34a4a;
  background-color: #FC6E51;
  color:black;
  font-weight: bolder;
  border-radius: 0 5px 5px 0;
  font-size: 16px;
  position: absolute;
  cursor: pointer;
  float:right;
  right:40px;
  z-index: 1;
  margin-top: 30px;
}
.tages{
    display: inline-flex;
    position: absolute;
    right:20px;
    max-width: 200px;
    max-height: 50px;
    height:34px;
    margin-top: 5px;
    overflow: scroll;
    bottom:18px;
    
}
.tages::-webkit-scrollbar {
        width: 0px; 
        height:2px;
        background-color: white; 
        border-radius: 20px;             /* width of the entire scrollbar */
    }

.tages::-webkit-scrollbar-track {
    background: none;        /* color of the tracking area */
    
}

.tages::-webkit-scrollbar-thumb {
    background-color: rgba(65, 64, 64, 0.864);    /* color of the scroll thumb */
    border-radius: 20px;       /* roundness of the scroll thumb */
        /* creates padding around scroll thumb */
    
}
.tages a {
    color: black;
    text-decoration: none;
    background-color: #dcdcdc;
    padding: 5px;
    font-size: 13px;
    font-weight: bolder;
    font-style: oblique;
    border-radius: 5px;
    height: 29px;
    margin-top: 1px;
    margin-left: 4px;
    margin-bottom: 30px;
}
</style>






<body>
    <header>
       <form action="/" method="POST"> 
           <input id = "btn" type="submit" value="Search">

            <input class ="search" type="search" name="search"> 
        </form>
    </header>
    <h3>Hi Im <strong style="color:#fc6e51">Abdrraouf Chebli</strong> Im programmer.</h3>
    





    
    <div class = "page">
        <a class = "new" href="NewArticle">new Article</a>
        <%for(let i = articles.length-1 ;i>=0;i--){%>
            <%let article = articles[i]%>
            
            <div class="article">
                <h2><%=article.title%></h2>
                <%let newdate = new Date()%>
                <%var hours = article.date.getHours();%>
                <%var ampm = hours >= 12 ? 'PM' : 'AM';%>
                <%hours = hours % 12;%>
                <%hours = hours ? hours : 12;%>
                <%var minutes = article.date.getMinutes()%>
                <%minutes = minutes < 10 ? '0' + minutes : minutes;%>
                
                    <%let MinutesTime = newdate.getMinutes() - article.date.getMinutes()%>
                    <%let HourTime = newdate.getHours() - article.date.getHours()%>
                    
                    <%if(article.date.getDay() == newdate.getDay()){%>
                        <%if(HourTime == 0){%>
                            <p><b style="color: #595959;"><%=MinutesTime%> min</b></p>
                        <%}else{%>
                            <p><b style="color: #595959;"><%=HourTime%> h</b></p>
                            <%}%>
                        
                    <%}else{%>
                        <p><b style="color: #595959;"><%=article.date.toLocaleDateString()%></p>

                    <%}%>
                <p class="text">
                    <%=article.description%>
                    
                </p>
                <div class="tages">

                    
                    <%let tag = JSON.parse(article.tag)[0];%>
                    <%tag=tag.split(",") %>
                    <%tag.forEach(tg=>{%>
                        <a href="<%=tg%>">#<%=tg%></a>
                        
                        
                        <%})%>
                    
            
                    
                    
                </div>
                
               

                <div class="options">
                    <a  id = "readmore" href="show/<%=article.id%>">Read More</a>
                    <a id = "edit" href="edit/<%=article.id%>">Edit</a>
                    <a id = "delet" href="delete/<%=article.id%>">Delete</a>



                 
                </div>
                
            </div>
        
            <%}%>
    </div>
</body>
</html>